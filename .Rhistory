digits = 2,
tex = TRUE)
etable(reg.yield,
reg.SI,
reg.fx,
title = "",
keep = "D[[:digit:]5",
float = TRUE,
fitstat = c("n", "r2"),
digits = 2,
tex = TRUE)
etable(reg.yield,
reg.SI,
reg.fx,
title = "",
keep = "D[:digit:]5",
float = TRUE,
fitstat = c("n", "r2"),
digits = 2,
tex = TRUE)
etable(reg.yield,
reg.SI,
reg.fx,
title = "",
keep = "D[[:digit:]]5",
float = TRUE,
fitstat = c("n", "r2"),
digits = 2,
tex = TRUE)
etable(reg.yield,
reg.SI,
reg.fx,
title = "",
keep = "D[[:digit:]]15",
float = TRUE,
fitstat = c("n", "r2"),
digits = 2,
tex = TRUE)
etable(reg.yield,
reg.SI,
reg.fx,
title = "",
keep = "D[[:digit:]]a",
float = TRUE,
fitstat = c("n", "r2"),
digits = 2,
tex = TRUE)
etable(reg.yield,
reg.SI,
reg.fx,
title = "",
keep = "D[:digit:]",
float = TRUE,
fitstat = c("n", "r2"),
digits = 2,
tex = TRUE)
etable(reg.yield,
reg.SI,
reg.fx,
title = "",
keep = "D[:digit:]$",
float = TRUE,
fitstat = c("n", "r2"),
digits = 2,
tex = TRUE)
etable(reg.yield,
reg.SI,
reg.fx,
title = "",
keep = "D[[:digit:]]8",
float = TRUE,
fitstat = c("n", "r2"),
digits = 2,
tex = TRUE)
etable(reg.yield,
reg.SI,
reg.fx,
title = "",
keep = "D[[:digit:]]0",
float = TRUE,
fitstat = c("n", "r2"),
digits = 2,
tex = TRUE)
etable(reg.yield,
reg.SI,
reg.fx,
title = "",
keep = "D[[:digit:]]23",
float = TRUE,
fitstat = c("n", "r2"),
digits = 2,
tex = TRUE)
etable(reg.yield,
reg.SI,
reg.fx,
title = "",
keep = "D[[:digit:]]$2",
float = TRUE,
fitstat = c("n", "r2"),
digits = 2,
tex = TRUE)
etable(reg.yield,
reg.SI,
reg.fx,
title = "",
keep = "D[[:digit:]]$",
float = TRUE,
fitstat = c("n", "r2"),
digits = 2,
tex = TRUE)
etable(reg.yield,
reg.SI,
reg.fx,
title = "",
omit = "D[[:digit:]]$",
float = TRUE,
fitstat = c("n", "r2"),
digits = 2,
tex = TRUE)
etable(reg.yield,
reg.SI,
reg.fx,
title = "",
drop = "D[[:digit:]]$",
float = TRUE,
fitstat = c("n", "r2"),
digits = 2,
tex = TRUE)
etable(reg.yield,
reg.SI,
reg.fx,
title = "",
drop = "D[[:digit:]]{3}",
float = TRUE,
fitstat = c("n", "r2"),
digits = 2,
tex = TRUE)
etable(reg.yield,
reg.SI,
reg.fx,
title = "",
drop = "D[[:digit:]]{2}",
float = TRUE,
fitstat = c("n", "r2"),
digits = 2,
tex = TRUE)
etable(reg.yield,
reg.SI,
reg.fx,
title = "",
drop = "D[[:digit:]]{1}",
float = TRUE,
fitstat = c("n", "r2"),
digits = 2,
tex = TRUE)
etable(reg.yield,
reg.SI,
reg.fx,
title = "",
keep = "D[[:digit:]]{2}",
float = TRUE,
fitstat = c("n", "r2"),
digits = 2,
tex = TRUE)
etable(reg.yield,
reg.SI,
reg.fx,
title = "",
keep = "D[[:digit:]]{1}",
float = TRUE,
fitstat = c("n", "r2"),
digits = 2,
tex = TRUE)
etable(reg.yield,
reg.SI,
reg.fx,
title = "",
keep = "D[[:digit:]]{3}",
float = TRUE,
fitstat = c("n", "r2"),
digits = 2,
tex = TRUE)
etable(reg.yield,
reg.SI,
reg.fx,
title = "",
keep = "D[[:digit:]]{4}",
float = TRUE,
fitstat = c("n", "r2"),
digits = 2,
tex = TRUE)
etable(reg.yield,
reg.SI,
reg.fx,
title = "",
keep = "D[[:digit:]]$",
float = TRUE,
fitstat = c("n", "r2"),
digits = 2,
tex = TRUE)
etable(reg.yield,
reg.SI,
reg.fx,
title = "",
keep = "D[[:digit:]]{2}",
float = TRUE,
fitstat = c("n", "r2"),
digits = 2,
tex = TRUE)
yields <- yields %>%
mutate("2008-11-25" = case_when(Date == "2008-11-25" ~ 1, TRUE ~ 0), D2 = case_when(Date == "2008-12-02" ~ 1, TRUE ~ 0),
D3 = case_when(Date == "2008-12-16" ~ 1, TRUE ~ 0), D4 = case_when(Date == "2009-01-28" ~ 1, TRUE ~ 0),
D5 = case_when(Date == "2009-03-18" ~ 1, TRUE ~ 0), D6 = case_when(Date == "2010-08-10" ~ 1, TRUE ~ 0),
D7 = case_when(Date == "2010-08-27" ~ 1, TRUE ~ 0), D8 = case_when(Date == "2010-09-21" ~ 1, TRUE ~ 0),
D9 = case_when(Date == "2010-10-15" ~ 1, TRUE ~ 0), D10 = case_when(Date == "2010-11-03" ~ 1, TRUE ~ 0),
D11 = case_when(Date == "2011-08-09" ~ 1, TRUE ~ 0), D12 = case_when(Date == "2011-08-26" ~ 1, TRUE ~ 0),
D13 = case_when(Date == "2011-09-21" ~ 1, TRUE ~ 0), D14 = case_when(Date == "2012-08-22" ~ 1, TRUE ~ 0),
D15 = case_when(Date == "2012-08-31" ~ 1, TRUE ~ 0), D16 = case_when(Date == "2012-09-13" ~ 1, TRUE ~ 0),
D17 = case_when(Date == "2013-03-20" ~ 1, TRUE ~ 0), D18 = case_when(Date == "2013-05-01" ~ 1, TRUE ~ 0),
D19 = case_when(Date == "2013-05-22" ~ 1, TRUE ~ 0), D20 = case_when(Date == "2013-06-19" ~ 1, TRUE ~ 0),
D21 = case_when(Date == "2013-07-11" ~ 1, TRUE ~ 0), D22 = case_when(Date == "2013-10-30" ~ 1, TRUE ~ 0),
D23 = case_when(Date == "2013-12-18" ~ 1, TRUE ~ 0), D24 = case_when(Date == "2014-09-17" ~ 1, TRUE ~ 0),
D25 = case_when(Date == "2014-10-29" ~ 1, TRUE ~ 0))
View(yields)
yields <- yields %>%
mutate("2008-11-25" = case_when(Date == "2008-11-25" ~ 1, TRUE ~ 0), D2 = case_when(Date == "2008-12-02" ~ 1, TRUE ~ 0),
D3 = case_when(Date == "2008-12-16" ~ 1, TRUE ~ 0), D4 = case_when(Date == "2009-01-28" ~ 1, TRUE ~ 0),
D5 = case_when(Date == "2009-03-18" ~ 1, TRUE ~ 0), D6 = case_when(Date == "2010-08-10" ~ 1, TRUE ~ 0),
D7 = case_when(Date == "2010-08-27" ~ 1, TRUE ~ 0), D8 = case_when(Date == "2010-09-21" ~ 1, TRUE ~ 0),
D9 = case_when(Date == "2010-10-15" ~ 1, TRUE ~ 0), D10 = case_when(Date == "2010-11-03" ~ 1, TRUE ~ 0),
D11 = case_when(Date == "2011-08-09" ~ 1, TRUE ~ 0), D12 = case_when(Date == "2011-08-26" ~ 1, TRUE ~ 0),
D13 = case_when(Date == "2011-09-21" ~ 1, TRUE ~ 0), D14 = case_when(Date == "2012-08-22" ~ 1, TRUE ~ 0),
D15 = case_when(Date == "2012-08-31" ~ 1, TRUE ~ 0), D16 = case_when(Date == "2012-09-13" ~ 1, TRUE ~ 0),
D17 = case_when(Date == "2013-03-20" ~ 1, TRUE ~ 0), D18 = case_when(Date == "2013-05-01" ~ 1, TRUE ~ 0),
D19 = case_when(Date == "2013-05-22" ~ 1, TRUE ~ 0), D20 = case_when(Date == "2013-06-19" ~ 1, TRUE ~ 0),
D21 = case_when(Date == "2013-07-11" ~ 1, TRUE ~ 0), D22 = case_when(Date == "2013-10-30" ~ 1, TRUE ~ 0),
D23 = case_when(Date == "2013-12-18" ~ 1, TRUE ~ 0), D24 = case_when(Date == "2014-09-17" ~ 1, TRUE ~ 0),
D25 = case_when(Date == "2014-10-29" ~ 1, TRUE ~ 0))
View(yields)
fx %>%
rename("2014-10-29" = D25)
fx %>%
rename("2014-10-29" = D1)
yields <- yields %>%
rename("2008-11-25" = D1, "2008-12-02" = D2, "2008-12-16" = D3, "2009-01-28" = D4,
"2009-03-18" = D5, "2010-08-10" = D6, "2010-08-27" = D7, "2010-09-21" = D8,
"2010-10-15" = D9, "2010-11-03" = D10, "2011-08-09" = D11,
"2011-08-26" = D12, "2011-09-21" = D13, "2012-08-22" = D14,
"2012-08-31" = D15, "2012-09-13" = D16, "2013-03-20" = D17,
"2013-05-01" = D18, "2013-05-22" = D19, "2013-06-19" = D20,
"2013-07-11" = D21, "2013-10-30" = D22, "2013-12-18" = D23,
"2014-09-17" = D24, "2014-10-29" = D25)
View(yields)
View(yields)
yields <- yields %>%
rename("2008-11-25" = D1, "2008-12-02" = D2, "2008-12-16" = D3, "2009-01-28" = D4,
"2009-03-18" = D5, "2010-08-10" = D6, "2010-08-27" = D7, "2010-09-21" = D8,
"2010-10-15" = D9, "2010-11-03" = D10, "2011-08-09" = D11,
"2011-08-26" = D12, "2011-09-21" = D13, "2012-08-22" = D14,
"2012-08-31" = D15, "2012-09-13" = D16, "2013-03-20" = D17,
"2013-05-01" = D18, "2013-05-22" = D19, "2013-06-19" = D20,
"2013-07-11" = D21, "2013-10-30" = D22, "2013-12-18" = D23,
"2014-09-17" = D24, "2014-10-29" = D25)
View(yields)
yields %>%
rename("2008-11-25" = D1, "2008-12-02" = D2, "2008-12-16" = D3, "2009-01-28" = D4,
"2009-03-18" = D5, "2010-08-10" = D6, "2010-08-27" = D7, "2010-09-21" = D8,
"2010-10-15" = D9, "2010-11-03" = D10, "2011-08-09" = D11,
"2011-08-26" = D12, "2011-09-21" = D13, "2012-08-22" = D14,
"2012-08-31" = D15, "2012-09-13" = D16, "2013-03-20" = D17,
"2013-05-01" = D18, "2013-05-22" = D19, "2013-06-19" = D20,
"2013-07-11" = D21, "2013-10-30" = D22, "2013-12-18" = D23,
"2014-09-17" = D24, "2014-10-29" = D25)
yields %>%
rename("2008-11-25" = D1, "2008-12-02" = D2, "2008-12-16" = D3, "2009-01-28" = D4,
"2009-03-18" = D5, "2010-08-10" = D6, "2010-08-27" = D7, "2010-09-21" = D8,
"2010-10-15" = D9, "2010-11-03" = D10, "2011-08-09" = D11,
"2011-08-26" = D12, "2011-09-21" = D13, "2012-08-22" = D14,
"2012-08-31" = D15, "2012-09-13" = D16, "2013-03-20" = D17,
"2013-05-01" = D18, "2013-05-22" = D19, "2013-06-19" = D20,
"2013-07-11" = D21, "2013-10-30" = D22, "2013-12-18" = D23,
"2014-09-17" = D24, "2014-10-29" = D25)
yields %>%
rename("2008-11-25" = D1, "2008-12-02" = D2, "2008-12-16" = D3, "2009-01-28" = D4,
"2009-03-18" = D5, "2010-08-10" = D6, "2010-08-27" = D7, "2010-09-21" = D8,
"2010-10-15" = D9, "2010-11-03" = D10, "2011-08-09" = D11,
"2011-08-26" = D12, "2011-09-21" = D13, "2012-08-22" = D14,
"2012-08-31" = D15, "2012-09-13" = D16, "2013-03-20" = D17,
"2013-05-01" = D18, "2013-05-22" = D19, "2013-06-19" = D20,
"2013-07-11" = D21, "2013-10-30" = D22, "2013-12-18" = D23,
"2014-09-17" = D24, "2014-10-29" = D25)
yields %>%
rename("2008-11-25" = D1)
yields %>%
rename("2008-11-25" = D1)
yields %>%
rename(D1 = "2008-11-25")
yields %>%
rename("2008-11-25" = D1)
library(tidyverse)
library(magrittr)
library(fixest)
library(tidyverse)
library(magrittr)
library(fixest)
options(scipen = 999)
# Sector financiero
yields <- readxl::read_xlsx("data/raw/Datos.xlsx", sheet = "Yields",
col_types = c("date", "numeric", "numeric", "numeric", "numeric", "numeric", "numeric",
"numeric", "numeric", "numeric", "numeric", "numeric", "numeric",
"numeric", "numeric", "numeric", "numeric", "numeric", "numeric",
"numeric", "numeric")) %>%
select("Date", "Brazil", "Chile", "Colombia", "Mexico", "Peru")
stock_market <- readxl::read_xlsx("data/raw/Datos.xlsx", sheet = "Headline stock market indices") %>%
select("Date", "Brazil", "Chile", "Colombia", "Mexico", "Peru")
fx <- readxl::read_xlsx("data/raw/Datos.xlsx", sheet = "FX DATA") %>%
select("Date", "Brazil", "Chile", "Colombia", "Mexico", "Peru")
# Sector real
Debt_gdp <- readxl::read_xlsx("data/raw/Datos_2.xlsx", sheet = "Debt_gdp")
CDS_5y <- readxl::read_xlsx("data/raw/Datos_2.xlsx", sheet = "CDS_5Y")
CPI <- readxl::read_xlsx("data/raw/Datos_2.xlsx", sheet = "CPI")
Current_account <- readxl::read_xlsx("data/raw/Datos_2.xlsx", sheet = "Current_account")
GDP <- readxl::read_xlsx("data/raw/Datos_2.xlsx", sheet = "GDP")
Reserves <- readxl::read_xlsx("data/raw/Datos_2.xlsx", sheet = "Reserves")
Rate <- readxl::read_xlsx("data/raw/Datos_2.xlsx", sheet = "Rate")
# Sector financiero
yields <- yields %>%
mutate(Change_yield_Brazil = lead(Brazil) - lag(Brazil), Change_yield_Chile = lead(Chile) - lag(Chile),
Change_yield_Colombia = lead(Colombia) - lag(Colombia), Change_yield_Mexico = lead(Mexico) - lag(Mexico),
Change_yield_Peru = lead(Peru) - lag(Peru)) %>%
select(- Mexico, - Brazil, -Chile, - Colombia, - Peru) %>%
pivot_longer(-Date, names_to = "Country", values_to = "Yields")
yields$Date <- as.Date(yields$Date, format = '%Y-%m-%d')
stock_market <- stock_market %>%
mutate(Change_sm_Brazil = lead(Brazil) - lag(Brazil), Change_sm_Chile = lead(Chile) - lag(Chile),
Change_sm_Colombia = lead(Colombia) - lag(Colombia), Change_sm_Mexico = lead(Mexico) - lag(Mexico),
Change_sm_Peru = lead(Peru) - lag(Peru)) %>%
select(- Mexico, - Brazil, -Chile, - Colombia, - Peru) %>%
pivot_longer(-Date, names_to = "Country", values_to = "SI")
stock_market$Date <- as.Date(stock_market$Date, format = '%Y-%m-%d')
fx <- fx %>%
mutate(Change_fx_Brazil = lead(Brazil) - lag(Brazil), Change_fx_Chile = lead(Chile) - lag(Chile),
Change_fx_Colombia = lead(Colombia) - lag(Colombia), Change_fx_Mexico = lead(Mexico) - lag(Mexico),
Change_fx_Peru = lead(Peru) - lag(Peru)) %>%
select(- Mexico, - Brazil, -Chile, - Colombia, - Peru) %>%
pivot_longer(-Date, names_to = "Country", values_to = "FX")
fx$Date <- as.Date(fx$Date, format = '%Y-%m-%d')
yields <- yields %>%
mutate(D1 = case_when(Date == "2008-11-25" ~ 1, TRUE ~ 0), D2 = case_when(Date == "2008-12-02" ~ 1, TRUE ~ 0),
D3 = case_when(Date == "2008-12-16" ~ 1, TRUE ~ 0), D4 = case_when(Date == "2009-01-28" ~ 1, TRUE ~ 0),
D5 = case_when(Date == "2009-03-18" ~ 1, TRUE ~ 0), D6 = case_when(Date == "2010-08-10" ~ 1, TRUE ~ 0),
D7 = case_when(Date == "2010-08-27" ~ 1, TRUE ~ 0), D8 = case_when(Date == "2010-09-21" ~ 1, TRUE ~ 0),
D9 = case_when(Date == "2010-10-15" ~ 1, TRUE ~ 0), D10 = case_when(Date == "2010-11-03" ~ 1, TRUE ~ 0),
D11 = case_when(Date == "2011-08-09" ~ 1, TRUE ~ 0), D12 = case_when(Date == "2011-08-26" ~ 1, TRUE ~ 0),
D13 = case_when(Date == "2011-09-21" ~ 1, TRUE ~ 0), D14 = case_when(Date == "2012-08-22" ~ 1, TRUE ~ 0),
D15 = case_when(Date == "2012-08-31" ~ 1, TRUE ~ 0), D16 = case_when(Date == "2012-09-13" ~ 1, TRUE ~ 0),
D17 = case_when(Date == "2013-03-20" ~ 1, TRUE ~ 0), D18 = case_when(Date == "2013-05-01" ~ 1, TRUE ~ 0),
D19 = case_when(Date == "2013-05-22" ~ 1, TRUE ~ 0), D20 = case_when(Date == "2013-06-19" ~ 1, TRUE ~ 0),
D21 = case_when(Date == "2013-07-11" ~ 1, TRUE ~ 0), D22 = case_when(Date == "2013-10-30" ~ 1, TRUE ~ 0),
D23 = case_when(Date == "2013-12-18" ~ 1, TRUE ~ 0), D24 = case_when(Date == "2014-09-17" ~ 1, TRUE ~ 0),
D25 = case_when(Date == "2014-10-29" ~ 1, TRUE ~ 0))
stock_market <- stock_market %>%
mutate(D1 = case_when(Date == "2008-11-25" ~ 1, TRUE ~ 0), D2 = case_when(Date == "2008-12-02" ~ 1, TRUE ~ 0),
D3 = case_when(Date == "2008-12-16" ~ 1, TRUE ~ 0), D4 = case_when(Date == "2009-01-28" ~ 1, TRUE ~ 0),
D5 = case_when(Date == "2009-03-18" ~ 1, TRUE ~ 0), D6 = case_when(Date == "2010-08-10" ~ 1, TRUE ~ 0),
D7 = case_when(Date == "2010-08-27" ~ 1, TRUE ~ 0), D8 = case_when(Date == "2010-09-21" ~ 1, TRUE ~ 0),
D9 = case_when(Date == "2010-10-15" ~ 1, TRUE ~ 0), D10 = case_when(Date == "2010-11-03" ~ 1, TRUE ~ 0),
D11 = case_when(Date == "2011-08-09" ~ 1, TRUE ~ 0), D12 = case_when(Date == "2011-08-26" ~ 1, TRUE ~ 0),
D13 = case_when(Date == "2011-09-21" ~ 1, TRUE ~ 0), D14 = case_when(Date == "2012-08-22" ~ 1, TRUE ~ 0),
D15 = case_when(Date == "2012-08-31" ~ 1, TRUE ~ 0), D16 = case_when(Date == "2012-09-13" ~ 1, TRUE ~ 0),
D17 = case_when(Date == "2013-03-20" ~ 1, TRUE ~ 0), D18 = case_when(Date == "2013-05-01" ~ 1, TRUE ~ 0),
D19 = case_when(Date == "2013-05-22" ~ 1, TRUE ~ 0), D20 = case_when(Date == "2013-06-19" ~ 1, TRUE ~ 0),
D21 = case_when(Date == "2013-07-11" ~ 1, TRUE ~ 0), D22 = case_when(Date == "2013-10-30" ~ 1, TRUE ~ 0),
D23 = case_when(Date == "2013-12-18" ~ 1, TRUE ~ 0), D24 = case_when(Date == "2014-09-17" ~ 1, TRUE ~ 0),
D25 = case_when(Date == "2014-10-29" ~ 1, TRUE ~ 0))
fx <- fx %>%
mutate(D1 = case_when(Date == "2008-11-25" ~ 1, TRUE ~ 0), D2 = case_when(Date == "2008-12-02" ~ 1, TRUE ~ 0),
D3 = case_when(Date == "2008-12-16" ~ 1, TRUE ~ 0), D4 = case_when(Date == "2009-01-28" ~ 1, TRUE ~ 0),
D5 = case_when(Date == "2009-03-18" ~ 1, TRUE ~ 0), D6 = case_when(Date == "2010-08-10" ~ 1, TRUE ~ 0),
D7 = case_when(Date == "2010-08-27" ~ 1, TRUE ~ 0), D8 = case_when(Date == "2010-09-21" ~ 1, TRUE ~ 0),
D9 = case_when(Date == "2010-10-15" ~ 1, TRUE ~ 0), D10 = case_when(Date == "2010-11-03" ~ 1, TRUE ~ 0),
D11 = case_when(Date == "2011-08-09" ~ 1, TRUE ~ 0), D12 = case_when(Date == "2011-08-26" ~ 1, TRUE ~ 0),
D13 = case_when(Date == "2011-09-21" ~ 1, TRUE ~ 0), D14 = case_when(Date == "2012-08-22" ~ 1, TRUE ~ 0),
D15 = case_when(Date == "2012-08-31" ~ 1, TRUE ~ 0), D16 = case_when(Date == "2012-09-13" ~ 1, TRUE ~ 0),
D17 = case_when(Date == "2013-03-20" ~ 1, TRUE ~ 0), D18 = case_when(Date == "2013-05-01" ~ 1, TRUE ~ 0),
D19 = case_when(Date == "2013-05-22" ~ 1, TRUE ~ 0), D20 = case_when(Date == "2013-06-19" ~ 1, TRUE ~ 0),
D21 = case_when(Date == "2013-07-11" ~ 1, TRUE ~ 0), D22 = case_when(Date == "2013-10-30" ~ 1, TRUE ~ 0),
D23 = case_when(Date == "2013-12-18" ~ 1, TRUE ~ 0), D24 = case_when(Date == "2014-09-17" ~ 1, TRUE ~ 0),
D25 = case_when(Date == "2014-10-29" ~ 1, TRUE ~ 0))
yields %>%
rename("2008-11-25" = D1, "2008-12-02" = D2, "2008-12-16" = D3, "2009-01-28" = D4,
"2009-03-18" = D5, "2010-08-10" = D6, "2010-08-27" = D7, "2010-09-21" = D8,
"2010-10-15" = D9, "2010-11-03" = D10, "2011-08-09" = D11,
"2011-08-26" = D12, "2011-09-21" = D13, "2012-08-22" = D14,
"2012-08-31" = D15, "2012-09-13" = D16, "2013-03-20" = D17,
"2013-05-01" = D18, "2013-05-22" = D19, "2013-06-19" = D20,
"2013-07-11" = D21, "2013-10-30" = D22, "2013-12-18" = D23,
"2014-09-17" = D24, "2014-10-29" = D25)
# Sector Real
View(yields)
# Sector financiero
yields <- yields %>%
mutate(Change_yield_Brazil = lead(Brazil) - lag(Brazil), Change_yield_Chile = lead(Chile) - lag(Chile),
Change_yield_Colombia = lead(Colombia) - lag(Colombia), Change_yield_Mexico = lead(Mexico) - lag(Mexico),
Change_yield_Peru = lead(Peru) - lag(Peru)) %>%
select(- Mexico, - Brazil, -Chile, - Colombia, - Peru) %>%
pivot_longer(-Date, names_to = "Country", values_to = "Yields")
library(tidyverse)
library(magrittr)
library(fixest)
options(scipen = 999)
# Sector financiero
yields <- readxl::read_xlsx("data/raw/Datos.xlsx", sheet = "Yields",
col_types = c("date", "numeric", "numeric", "numeric", "numeric", "numeric", "numeric",
"numeric", "numeric", "numeric", "numeric", "numeric", "numeric",
"numeric", "numeric", "numeric", "numeric", "numeric", "numeric",
"numeric", "numeric")) %>%
select("Date", "Brazil", "Chile", "Colombia", "Mexico", "Peru")
stock_market <- readxl::read_xlsx("data/raw/Datos.xlsx", sheet = "Headline stock market indices") %>%
select("Date", "Brazil", "Chile", "Colombia", "Mexico", "Peru")
fx <- readxl::read_xlsx("data/raw/Datos.xlsx", sheet = "FX DATA") %>%
select("Date", "Brazil", "Chile", "Colombia", "Mexico", "Peru")
# Sector real
Debt_gdp <- readxl::read_xlsx("data/raw/Datos_2.xlsx", sheet = "Debt_gdp")
CDS_5y <- readxl::read_xlsx("data/raw/Datos_2.xlsx", sheet = "CDS_5Y")
CPI <- readxl::read_xlsx("data/raw/Datos_2.xlsx", sheet = "CPI")
Current_account <- readxl::read_xlsx("data/raw/Datos_2.xlsx", sheet = "Current_account")
GDP <- readxl::read_xlsx("data/raw/Datos_2.xlsx", sheet = "GDP")
Reserves <- readxl::read_xlsx("data/raw/Datos_2.xlsx", sheet = "Reserves")
Rate <- readxl::read_xlsx("data/raw/Datos_2.xlsx", sheet = "Rate")
# Sector financiero
yields <- yields %>%
mutate(Change_yield_Brazil = lead(Brazil) - lag(Brazil), Change_yield_Chile = lead(Chile) - lag(Chile),
Change_yield_Colombia = lead(Colombia) - lag(Colombia), Change_yield_Mexico = lead(Mexico) - lag(Mexico),
Change_yield_Peru = lead(Peru) - lag(Peru)) %>%
select(- Mexico, - Brazil, -Chile, - Colombia, - Peru) %>%
pivot_longer(-Date, names_to = "Country", values_to = "Yields")
yields$Date <- as.Date(yields$Date, format = '%Y-%m-%d')
stock_market <- stock_market %>%
mutate(Change_sm_Brazil = lead(Brazil) - lag(Brazil), Change_sm_Chile = lead(Chile) - lag(Chile),
Change_sm_Colombia = lead(Colombia) - lag(Colombia), Change_sm_Mexico = lead(Mexico) - lag(Mexico),
Change_sm_Peru = lead(Peru) - lag(Peru)) %>%
select(- Mexico, - Brazil, -Chile, - Colombia, - Peru) %>%
pivot_longer(-Date, names_to = "Country", values_to = "SI")
stock_market$Date <- as.Date(stock_market$Date, format = '%Y-%m-%d')
fx <- fx %>%
mutate(Change_fx_Brazil = lead(Brazil) - lag(Brazil), Change_fx_Chile = lead(Chile) - lag(Chile),
Change_fx_Colombia = lead(Colombia) - lag(Colombia), Change_fx_Mexico = lead(Mexico) - lag(Mexico),
Change_fx_Peru = lead(Peru) - lag(Peru)) %>%
select(- Mexico, - Brazil, -Chile, - Colombia, - Peru) %>%
pivot_longer(-Date, names_to = "Country", values_to = "FX")
fx$Date <- as.Date(fx$Date, format = '%Y-%m-%d')
yields <- yields %>%
mutate(D1 = case_when(Date == "2008-11-25" ~ 1, TRUE ~ 0), D2 = case_when(Date == "2008-12-02" ~ 1, TRUE ~ 0),
D3 = case_when(Date == "2008-12-16" ~ 1, TRUE ~ 0), D4 = case_when(Date == "2009-01-28" ~ 1, TRUE ~ 0),
D5 = case_when(Date == "2009-03-18" ~ 1, TRUE ~ 0), D6 = case_when(Date == "2010-08-10" ~ 1, TRUE ~ 0),
D7 = case_when(Date == "2010-08-27" ~ 1, TRUE ~ 0), D8 = case_when(Date == "2010-09-21" ~ 1, TRUE ~ 0),
D9 = case_when(Date == "2010-10-15" ~ 1, TRUE ~ 0), D10 = case_when(Date == "2010-11-03" ~ 1, TRUE ~ 0),
D11 = case_when(Date == "2011-08-09" ~ 1, TRUE ~ 0), D12 = case_when(Date == "2011-08-26" ~ 1, TRUE ~ 0),
D13 = case_when(Date == "2011-09-21" ~ 1, TRUE ~ 0), D14 = case_when(Date == "2012-08-22" ~ 1, TRUE ~ 0),
D15 = case_when(Date == "2012-08-31" ~ 1, TRUE ~ 0), D16 = case_when(Date == "2012-09-13" ~ 1, TRUE ~ 0),
D17 = case_when(Date == "2013-03-20" ~ 1, TRUE ~ 0), D18 = case_when(Date == "2013-05-01" ~ 1, TRUE ~ 0),
D19 = case_when(Date == "2013-05-22" ~ 1, TRUE ~ 0), D20 = case_when(Date == "2013-06-19" ~ 1, TRUE ~ 0),
D21 = case_when(Date == "2013-07-11" ~ 1, TRUE ~ 0), D22 = case_when(Date == "2013-10-30" ~ 1, TRUE ~ 0),
D23 = case_when(Date == "2013-12-18" ~ 1, TRUE ~ 0), D24 = case_when(Date == "2014-09-17" ~ 1, TRUE ~ 0),
D25 = case_when(Date == "2014-10-29" ~ 1, TRUE ~ 0))
stock_market <- stock_market %>%
mutate(D1 = case_when(Date == "2008-11-25" ~ 1, TRUE ~ 0), D2 = case_when(Date == "2008-12-02" ~ 1, TRUE ~ 0),
D3 = case_when(Date == "2008-12-16" ~ 1, TRUE ~ 0), D4 = case_when(Date == "2009-01-28" ~ 1, TRUE ~ 0),
D5 = case_when(Date == "2009-03-18" ~ 1, TRUE ~ 0), D6 = case_when(Date == "2010-08-10" ~ 1, TRUE ~ 0),
D7 = case_when(Date == "2010-08-27" ~ 1, TRUE ~ 0), D8 = case_when(Date == "2010-09-21" ~ 1, TRUE ~ 0),
D9 = case_when(Date == "2010-10-15" ~ 1, TRUE ~ 0), D10 = case_when(Date == "2010-11-03" ~ 1, TRUE ~ 0),
D11 = case_when(Date == "2011-08-09" ~ 1, TRUE ~ 0), D12 = case_when(Date == "2011-08-26" ~ 1, TRUE ~ 0),
D13 = case_when(Date == "2011-09-21" ~ 1, TRUE ~ 0), D14 = case_when(Date == "2012-08-22" ~ 1, TRUE ~ 0),
D15 = case_when(Date == "2012-08-31" ~ 1, TRUE ~ 0), D16 = case_when(Date == "2012-09-13" ~ 1, TRUE ~ 0),
D17 = case_when(Date == "2013-03-20" ~ 1, TRUE ~ 0), D18 = case_when(Date == "2013-05-01" ~ 1, TRUE ~ 0),
D19 = case_when(Date == "2013-05-22" ~ 1, TRUE ~ 0), D20 = case_when(Date == "2013-06-19" ~ 1, TRUE ~ 0),
D21 = case_when(Date == "2013-07-11" ~ 1, TRUE ~ 0), D22 = case_when(Date == "2013-10-30" ~ 1, TRUE ~ 0),
D23 = case_when(Date == "2013-12-18" ~ 1, TRUE ~ 0), D24 = case_when(Date == "2014-09-17" ~ 1, TRUE ~ 0),
D25 = case_when(Date == "2014-10-29" ~ 1, TRUE ~ 0))
fx <- fx %>%
mutate(D1 = case_when(Date == "2008-11-25" ~ 1, TRUE ~ 0), D2 = case_when(Date == "2008-12-02" ~ 1, TRUE ~ 0),
D3 = case_when(Date == "2008-12-16" ~ 1, TRUE ~ 0), D4 = case_when(Date == "2009-01-28" ~ 1, TRUE ~ 0),
D5 = case_when(Date == "2009-03-18" ~ 1, TRUE ~ 0), D6 = case_when(Date == "2010-08-10" ~ 1, TRUE ~ 0),
D7 = case_when(Date == "2010-08-27" ~ 1, TRUE ~ 0), D8 = case_when(Date == "2010-09-21" ~ 1, TRUE ~ 0),
D9 = case_when(Date == "2010-10-15" ~ 1, TRUE ~ 0), D10 = case_when(Date == "2010-11-03" ~ 1, TRUE ~ 0),
D11 = case_when(Date == "2011-08-09" ~ 1, TRUE ~ 0), D12 = case_when(Date == "2011-08-26" ~ 1, TRUE ~ 0),
D13 = case_when(Date == "2011-09-21" ~ 1, TRUE ~ 0), D14 = case_when(Date == "2012-08-22" ~ 1, TRUE ~ 0),
D15 = case_when(Date == "2012-08-31" ~ 1, TRUE ~ 0), D16 = case_when(Date == "2012-09-13" ~ 1, TRUE ~ 0),
D17 = case_when(Date == "2013-03-20" ~ 1, TRUE ~ 0), D18 = case_when(Date == "2013-05-01" ~ 1, TRUE ~ 0),
D19 = case_when(Date == "2013-05-22" ~ 1, TRUE ~ 0), D20 = case_when(Date == "2013-06-19" ~ 1, TRUE ~ 0),
D21 = case_when(Date == "2013-07-11" ~ 1, TRUE ~ 0), D22 = case_when(Date == "2013-10-30" ~ 1, TRUE ~ 0),
D23 = case_when(Date == "2013-12-18" ~ 1, TRUE ~ 0), D24 = case_when(Date == "2014-09-17" ~ 1, TRUE ~ 0),
D25 = case_when(Date == "2014-10-29" ~ 1, TRUE ~ 0))
yields <- yields %>%
rename("2008-11-25" = D1, "2008-12-02" = D2, "2008-12-16" = D3, "2009-01-28" = D4,
"2009-03-18" = D5, "2010-08-10" = D6, "2010-08-27" = D7, "2010-09-21" = D8,
"2010-10-15" = D9, "2010-11-03" = D10, "2011-08-09" = D11,
"2011-08-26" = D12, "2011-09-21" = D13, "2012-08-22" = D14,
"2012-08-31" = D15, "2012-09-13" = D16, "2013-03-20" = D17,
"2013-05-01" = D18, "2013-05-22" = D19, "2013-06-19" = D20,
"2013-07-11" = D21, "2013-10-30" = D22, "2013-12-18" = D23,
"2014-09-17" = D24, "2014-10-29" = D25)
# Sector Real
ha <- feols(Yields ~ "2008-11-25" + "2008-12-02"  + "2008-12-16" + "2009-01-28" +
"2009-03-18" + "2010-08-10" + "2010-08-27" + "2010-09-21" +
"2010-10-15" + "2010-11-03" + "2011-08-09" +
"2011-08-26" + "2011-09-21" + "2012-08-22" +
"2012-08-31" + "2012-09-13" + "2013-03-20" +
"2013-05-01" + "2013-05-22" + "2013-06-19" +
"2013-07-11" + "2013-10-30" + "2013-12-18" +
"2014-09-17" + "2014-10-29" | Country, data = yields, se = "standard")
